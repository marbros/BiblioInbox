FROM python:3.11-slim
RUN pip install --no-cache-dir uv
WORKDIR /app
COPY pyproject.toml ./
RUN uv lock && uv sync --frozen
COPY app ./app
COPY .env ./.env
ENV PATH="/app/.venv/bin:$PATH"
CMD ["python", "-m", "app.email.worker"]